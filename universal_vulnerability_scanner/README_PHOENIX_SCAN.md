# üìã Phoenix Scan Commands - Quick Reference

## ‚úÖ Your Setup is Ready!

Your Phoenix Security configuration is already set up and ready to use:
- ‚úÖ Config file: `.phoenix.config`
- ‚úÖ API endpoint: `https://api.demo.appsecphx.io`
- ‚úÖ Assessment name: `NPM Compromise Detection - Local Scan`

---

## üöÄ Quick Start (Copy & Paste)

### Most Common Command - Scan Vulnerable Sample:

```bash
cd /Users/francescocipollone/Documents/GitHub/Shai-Halud-tinycolour-compromise-verifier

python -m universal_vulnerability_scanner.main scan \
    universal_vulnerability_scanner/test_samples/rsc_vulnerable_exact/ \
    --upload-phoenix
```

**What This Does**:
1. Scans `rsc_vulnerable_exact/` sample
2. Finds 4 CRITICAL vulnerabilities:
   - react-server-dom-webpack@19.0.0
   - react-server-dom-parcel@19.1.0
   - react-server-dom-turbopack@19.1.1
   - next@15.0.3
3. Uploads to Phoenix with severity 10.0 (CRITICAL)

**Expected Output**:
```
‚úÖ Loaded 11 vulnerabilities
üîç Scanning: test_samples/rsc_vulnerable_exact/
‚úÖ Scan complete: 4 CRITICAL findings

üîê Loaded Phoenix config
‚úÖ Obtained Phoenix API access token
üöÄ Uploading 4 findings to Phoenix...
‚úÖ Successfully uploaded to Phoenix Security
üìä View at: https://api.demo.appsecphx.io
```

---

## üìö All Available Test Samples

### 1. rsc_vulnerable_exact/ (Has Vulnerabilities)
**Contains**: Exact vulnerable versions
- react-server-dom-webpack@19.0.0 (CRITICAL)
- react-server-dom-parcel@19.1.0 (CRITICAL)
- react-server-dom-turbopack@19.1.1 (CRITICAL)
- next@15.0.3 (CRITICAL)

```bash
cd /Users/francescocipollone/Documents/GitHub/Shai-Halud-tinycolour-compromise-verifier
python -m universal_vulnerability_scanner.main scan universal_vulnerability_scanner/test_samples/rsc_vulnerable_exact/ --upload-phoenix
```

---

### 2. rsc_vulnerable_range/ (Has Vulnerabilities)
**Contains**: Versions in vulnerable ranges

```bash
cd /Users/francescocipollone/Documents/GitHub/Shai-Halud-tinycolour-compromise-verifier
python -m universal_vulnerability_scanner.main scan universal_vulnerability_scanner/test_samples/rsc_vulnerable_range/ --upload-phoenix
```

---

### 3. rsc_mixed/ (Mixed - Some Vulnerable, Some Safe)
**Contains**: Mix of vulnerable and safe packages

```bash
cd /Users/francescocipollone/Documents/GitHub/Shai-Halud-tinycolour-compromise-verifier
python -m universal_vulnerability_scanner.main scan universal_vulnerability_scanner/test_samples/rsc_mixed/ --upload-phoenix
```

---

### 4. rsc_with_lockfile/ (Deep Dependency Analysis)
**Contains**: Package with lockfile for transitive dependency scanning

```bash
cd /Users/francescocipollone/Documents/GitHub/Shai-Halud-tinycolour-compromise-verifier
python -m universal_vulnerability_scanner.main scan universal_vulnerability_scanner/test_samples/rsc_with_lockfile/ --upload-phoenix
```

---

### 5. rsc_safe_versions/ (All Safe)
**Contains**: Safe/patched versions only

```bash
cd /Users/francescocipollone/Documents/GitHub/Shai-Halud-tinycolour-compromise-verifier
python -m universal_vulnerability_scanner.main scan universal_vulnerability_scanner/test_samples/rsc_safe_versions/ --upload-phoenix
```

---

### 6. clean_safe_versions/ (Clean + Safe - NEW!)
**Contains**: Safe versions + packages not in database
- react@19.0.1 (SAFE - severity 1)
- react-dom@19.1.2 (SAFE - severity 1)
- next@16.0.7 (SAFE - severity 1)
- express@4.18.2 (CLEAN - severity 1)
- + many more clean packages

```bash
cd /Users/francescocipollone/Documents/GitHub/Shai-Halud-tinycolour-compromise-verifier
python -m universal_vulnerability_scanner.main scan universal_vulnerability_scanner/test_samples/clean_safe_versions/ --upload-phoenix
```

**Result**: 0 CRITICAL, 27 INFO (severity 1.0)

---

## üéØ Complete Demo Script

Save this as `scan-demo.sh`:

```bash
#!/bin/bash
cd /Users/francescocipollone/Documents/GitHub/Shai-Halud-tinycolour-compromise-verifier

echo "================================================"
echo "Universal Vulnerability Scanner - Phoenix Demo"
echo "================================================"
echo ""

echo "üìã Step 1: Test Scanner"
echo "---"
python -m universal_vulnerability_scanner.main test
echo ""

echo "================================================"
echo "üö® Step 2: Scan Vulnerable Sample"
echo "---"
python -m universal_vulnerability_scanner.main scan \
    universal_vulnerability_scanner/test_samples/rsc_vulnerable_exact/ \
    --upload-phoenix
echo ""

echo "================================================"
echo "‚úÖ Step 3: Scan Safe Sample"
echo "---"
python -m universal_vulnerability_scanner.main scan \
    universal_vulnerability_scanner/test_samples/clean_safe_versions/ \
    --upload-phoenix
echo ""

echo "================================================"
echo "‚úÖ Demo Complete!"
echo "================================================"
echo ""
echo "Check your Phoenix dashboard:"
echo "https://api.demo.appsecphx.io"
echo ""
echo "You should see:"
echo "  - Assessment: NPM Compromise Detection - Local Scan"
echo "  - CRITICAL findings (severity 10.0) from vulnerable sample"
echo "  - INFO findings (severity 1.0) from safe sample"
echo ""
```

Run it:
```bash
chmod +x scan-demo.sh
./scan-demo.sh
```

---

## üìä Expected Results by Sample

| Sample | VULNERABLE | SAFE | CLEAN | Severity 10 | Severity 1 |
|--------|-----------|------|-------|-------------|------------|
| rsc_vulnerable_exact | 4 | 2 | 0 | 4 | 2 |
| rsc_vulnerable_range | Multiple | Some | 0 | Multiple | Some |
| rsc_mixed | Some | Some | Some | Some | Some |
| rsc_with_lockfile | Varies | Varies | Varies | Varies | Varies |
| rsc_safe_versions | 0 | Multiple | 0 | 0 | Multiple |
| clean_safe_versions | 0 | 12 | 15 | 0 | 27 |

---

## üîç Understanding Phoenix Upload

### Severity Mapping:
- **Severity 10.0 (CRITICAL)**: Vulnerable packages requiring immediate action
- **Severity 1.0 (INFO)**: Safe versions and clean packages (informational only)

### What Phoenix Receives:

**For VULNERABLE packages**:
```json
{
  "name": "Vulnerability: react-server-dom-webpack@19.0.0",
  "severity": "10.0",
  "description": "VULNERABLE: CVE-2025-66478 - RCE via Flight protocol",
  "remedy": "üö® CRITICAL: Upgrade to 19.0.1 or later",
  "referenceIds": ["CVE-2025-66478", "CVE-2025-RSC-WEBPACK"],
  "tags": ["supply-chain", "vulnerability-scan", "verdict-vulnerable"]
}
```

**For SAFE packages**:
```json
{
  "name": "Vulnerability: react@19.0.1",
  "severity": "1.0",
  "description": "SAFE: react@19.0.1 is a safe version",
  "remedy": "‚úÖ No action required",
  "referenceIds": ["CVE-2025-66478"],
  "tags": ["supply-chain", "vulnerability-scan", "verdict-safe"]
}
```

---

## üéì Additional Options

### Save JSON Report First:
```bash
cd /Users/francescocipollone/Documents/GitHub/Shai-Halud-tinycolour-compromise-verifier

python -m universal_vulnerability_scanner.main scan \
    universal_vulnerability_scanner/test_samples/rsc_vulnerable_exact/ \
    --json --output scan-results.json

# Review the results
cat scan-results.json | python -m json.tool

# Then upload
python -m universal_vulnerability_scanner.main scan \
    universal_vulnerability_scanner/test_samples/rsc_vulnerable_exact/ \
    --upload-phoenix
```

### Debug Mode (See API Payloads):
```bash
cd /Users/francescocipollone/Documents/GitHub/Shai-Halud-tinycolour-compromise-verifier

python -m universal_vulnerability_scanner.main scan \
    universal_vulnerability_scanner/test_samples/rsc_vulnerable_exact/ \
    --upload-phoenix --debug

# Check what was sent
ls universal_vulnerability_scanner/debug/
cat universal_vulnerability_scanner/debug/phoenix_payload_*.json | python -m json.tool
```

### Scan All Samples at Once:
```bash
cd /Users/francescocipollone/Documents/GitHub/Shai-Halud-tinycolour-compromise-verifier

python -m universal_vulnerability_scanner.main scan \
    universal_vulnerability_scanner/test_samples/ \
    --upload-phoenix
```

---

## üìñ Documentation Files

| File | Purpose |
|------|---------|
| `QUICK_COMMANDS.md` | One-page quick reference (you are here!) |
| `PHOENIX_SCAN_EXAMPLES.md` | Detailed examples and explanations |
| `QUICK_START_GUIDE.md` | Complete getting started guide |
| `CVE_2025_66478_DETAILED_README.md` | Full CVE analysis |
| `SEVERITY_LEVELS_GUIDE.md` | Severity system documentation |

---

## ‚úÖ Quick Verification

After uploading, verify in Phoenix:
1. Go to: https://api.demo.appsecphx.io
2. Look for assessment: "NPM Compromise Detection - Local Scan"
3. Check findings:
   - CRITICAL (10.0) for vulnerable packages
   - INFO (1.0) for safe/clean packages
4. Verify CVE references: CVE-2025-66478

---

## üö® Troubleshooting

**"Phoenix upload failed"**:
```bash
# Check internet connection
ping api.demo.appsecphx.io

# Verify config file exists
cat universal_vulnerability_scanner/.phoenix.config

# Try with debug mode
python -m universal_vulnerability_scanner.main scan \
    universal_vulnerability_scanner/test_samples/rsc_vulnerable_exact/ \
    --upload-phoenix --debug
```

**"No vulnerabilities found"**:
- Make sure you're scanning the right sample
- `rsc_vulnerable_exact/` should find 4 vulnerabilities
- `clean_safe_versions/` should find 0 vulnerabilities (by design)

---

## üéØ Most Important Command (TL;DR)

**To scan vulnerable libraries and upload to Phoenix:**

```bash
cd /Users/francescocipollone/Documents/GitHub/Shai-Halud-tinycolour-compromise-verifier && python -m universal_vulnerability_scanner.main scan universal_vulnerability_scanner/test_samples/rsc_vulnerable_exact/ --upload-phoenix
```

**Expected**: 4 CRITICAL findings ‚Üí Uploaded to Phoenix ‚Üí ‚úÖ Done!

---

**Created**: December 4, 2025  
**Status**: ‚úÖ Ready to use  
**Phoenix Config**: Already set up in `.phoenix.config`


